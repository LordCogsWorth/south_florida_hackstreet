{"ast":null,"code":"var _jsxFileName = \"/Users/kyleprice/south_florida_hackstreet/whiteboard-detector/src/App.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useRef, useEffect } from 'react';\nimport './App.css';\nimport { GoogleGenerativeAI } from '@google/generative-ai';\nimport { Hands } from '@mediapipe/hands';\nimport { Camera } from '@mediapipe/camera_utils';\n\n// Initialize Gemini AI\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst genAI = new GoogleGenerativeAI(process.env.REACT_APP_GEMINI_API_KEY);\nfunction App() {\n  _s();\n  const [selectedFile, setSelectedFile] = useState(null);\n  const [isAnalyzing, setIsAnalyzing] = useState(false);\n  const [analysisResult, setAnalysisResult] = useState('');\n  const [isLiveMode, setIsLiveMode] = useState(false);\n  const [isDrawing, setIsDrawing] = useState(false);\n  const [drawingPoints, setDrawingPoints] = useState([]);\n  const videoRef = useRef(null);\n  const canvasRef = useRef(null);\n  const drawingCanvasRef = useRef(null);\n  const handsRef = useRef(null);\n  const cameraRef = useRef(null);\n  const animationFrameRef = useRef(null);\n\n  // Initialize MediaPipe Hands\n  useEffect(() => {\n    if (handsRef.current) return;\n    handsRef.current = new Hands({\n      locateFile: file => {\n        return `https://cdn.jsdelivr.net/npm/@mediapipe/hands/${file}`;\n      }\n    });\n    handsRef.current.setOptions({\n      maxNumHands: 1,\n      modelComplexity: 1,\n      minDetectionConfidence: 0.7,\n      minTrackingConfidence: 0.5\n    });\n    handsRef.current.onResults(onResults);\n  }, []);\n\n  // Process hand detection results\n  const onResults = results => {\n    const canvas = canvasRef.current;\n    const drawingCanvas = drawingCanvasRef.current;\n    if (!canvas || !drawingCanvas) return;\n    const ctx = canvas.getContext('2d');\n    const drawCtx = drawingCanvas.getContext('2d');\n\n    // Clear and draw video frame\n    ctx.clearRect(0, 0, canvas.width, canvas.height);\n    if (results.multiHandLandmarks && results.multiHandLandmarks.length > 0) {\n      const landmarks = results.multiHandLandmarks[0];\n\n      // Draw hand landmarks (green dots)\n      landmarks.forEach((landmark, index) => {\n        const x = landmark.x * canvas.width;\n        const y = landmark.y * canvas.height;\n        ctx.beginPath();\n        ctx.arc(x, y, 5, 0, 2 * Math.PI);\n        ctx.fillStyle = '#00ff00';\n        ctx.fill();\n      });\n\n      // Check for pointing gesture and draw\n      const isPointing = detectPointingGesture(landmarks);\n      if (isPointing) {\n        const indexTip = landmarks[8];\n        const x = indexTip.x * drawingCanvas.width;\n        const y = indexTip.y * drawingCanvas.height;\n\n        // Highlight pointing finger\n        ctx.beginPath();\n        ctx.arc(indexTip.x * canvas.width, indexTip.y * canvas.height, 15, 0, 2 * Math.PI);\n        ctx.strokeStyle = '#0066ff';\n        ctx.lineWidth = 3;\n        ctx.stroke();\n        if (!isDrawing) {\n          setIsDrawing(true);\n          setDrawingPoints([{\n            x,\n            y\n          }]);\n          console.log('✏️ Started drawing at:', x, y);\n        } else {\n          // Continue drawing\n          setDrawingPoints(prev => {\n            const newPoints = [...prev, {\n              x,\n              y\n            }];\n            drawLine(drawCtx, newPoints);\n            return newPoints;\n          });\n        }\n      } else {\n        if (isDrawing) {\n          setIsDrawing(false);\n          console.log('🛑 Stopped drawing');\n        }\n      }\n    } else {\n      if (isDrawing) {\n        setIsDrawing(false);\n        console.log('🛑 No hand detected - stopped drawing');\n      }\n    }\n  };\n\n  // Enhanced gesture detection\n  const detectPointingGesture = landmarks => {\n    // Index finger tip and joints\n    const indexTip = landmarks[8];\n    const indexPip = landmarks[6];\n    const indexMcp = landmarks[5];\n\n    // Middle finger tip and pip\n    const middleTip = landmarks[12];\n    const middlePip = landmarks[10];\n\n    // Ring finger tip and pip\n    const ringTip = landmarks[16];\n    const ringPip = landmarks[14];\n\n    // Pinky tip and pip\n    const pinkyTip = landmarks[20];\n    const pinkyPip = landmarks[18];\n\n    // Check if index finger is extended (tip higher than pip)\n    const indexExtended = indexTip.y < indexPip.y && indexPip.y < indexMcp.y;\n\n    // Check if other fingers are curled (tips lower than pips)\n    const middleCurled = middleTip.y > middlePip.y;\n    const ringCurled = ringTip.y > ringPip.y;\n    const pinkyCurled = pinkyTip.y > pinkyPip.y;\n\n    // At least one other finger should be curled\n    const otherFingersCurled = middleCurled || ringCurled || pinkyCurled;\n    const isPointing = indexExtended && otherFingersCurled;\n    if (isPointing) {\n      console.log('👆 Pointing detected!');\n    }\n    return isPointing;\n  };\n\n  // Draw line on canvas\n  const drawLine = (ctx, points) => {\n    if (points.length < 2) return;\n    const currentPoint = points[points.length - 1];\n    const prevPoint = points[points.length - 2];\n\n    // Draw thick blue line with white outline\n    ctx.strokeStyle = '#ffffff';\n    ctx.lineWidth = 10;\n    ctx.lineCap = 'round';\n    ctx.lineJoin = 'round';\n    ctx.beginPath();\n    ctx.moveTo(prevPoint.x, prevPoint.y);\n    ctx.lineTo(currentPoint.x, currentPoint.y);\n    ctx.stroke();\n\n    // Blue inner line\n    ctx.strokeStyle = '#0066ff';\n    ctx.lineWidth = 8;\n    ctx.beginPath();\n    ctx.moveTo(prevPoint.x, prevPoint.y);\n    ctx.lineTo(currentPoint.x, currentPoint.y);\n    ctx.stroke();\n  };\n\n  // Start live whiteboard mode\n  const startLiveMode = async () => {\n    try {\n      setIsLiveMode(true);\n      const stream = await navigator.mediaDevices.getUserMedia({\n        video: {\n          width: 640,\n          height: 480\n        }\n      });\n      const video = videoRef.current;\n      video.srcObject = stream;\n      await new Promise(resolve => {\n        video.onloadedmetadata = resolve;\n      });\n\n      // Setup canvases\n      const canvas = canvasRef.current;\n      const drawingCanvas = drawingCanvasRef.current;\n      canvas.width = video.videoWidth;\n      canvas.height = video.videoHeight;\n      drawingCanvas.width = video.videoWidth;\n      drawingCanvas.height = video.videoHeight;\n\n      // Start camera processing\n      if (handsRef.current) {\n        cameraRef.current = new Camera(video, {\n          onFrame: async () => {\n            await handsRef.current.send({\n              image: video\n            });\n          },\n          width: 640,\n          height: 480\n        });\n        cameraRef.current.start();\n      }\n      console.log('🎥 Live whiteboard mode started');\n    } catch (error) {\n      console.error('Error starting live mode:', error);\n      setIsLiveMode(false);\n    }\n  };\n\n  // Stop live mode\n  const stopLiveMode = () => {\n    setIsLiveMode(false);\n    setIsDrawing(false);\n    if (cameraRef.current) {\n      cameraRef.current.stop();\n      cameraRef.current = null;\n    }\n    if (videoRef.current && videoRef.current.srcObject) {\n      const tracks = videoRef.current.srcObject.getTracks();\n      tracks.forEach(track => track.stop());\n      videoRef.current.srcObject = null;\n    }\n    console.log('🛑 Live whiteboard mode stopped');\n  };\n\n  // Clear drawing canvas\n  const clearDrawing = () => {\n    const drawingCanvas = drawingCanvasRef.current;\n    if (drawingCanvas) {\n      const ctx = drawingCanvas.getContext('2d');\n      ctx.clearRect(0, 0, drawingCanvas.width, drawingCanvas.height);\n      setDrawingPoints([]);\n      console.log('🗑️ Drawing cleared');\n    }\n  };\n\n  // File handling (legacy - for video analysis)\n  const handleFileSelect = event => {\n    const file = event.target.files[0];\n    if (file && file.type.startsWith('video/')) {\n      setSelectedFile(file);\n      setAnalysisResult('');\n    }\n  };\n  const fileToBase64 = file => {\n    return new Promise((resolve, reject) => {\n      const reader = new FileReader();\n      reader.readAsDataURL(file);\n      reader.onload = () => resolve(reader.result);\n      reader.onerror = error => reject(error);\n    });\n  };\n  const analyzeVideo = async () => {\n    if (!selectedFile) return;\n    setIsAnalyzing(true);\n    try {\n      const model = genAI.getGenerativeModel({\n        model: \"gemini-1.5-flash\"\n      });\n      const base64Data = await fileToBase64(selectedFile);\n      const videoData = base64Data.split(',')[1];\n      const result = await model.generateContent([\"Analyze this video and provide a comprehensive summary.\", {\n        inlineData: {\n          mimeType: selectedFile.type,\n          data: videoData\n        }\n      }]);\n      setAnalysisResult(result.response.text());\n    } catch (error) {\n      console.error('Error:', error);\n      setAnalysisResult('Error analyzing video.');\n    } finally {\n      setIsAnalyzing(false);\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"App\",\n    children: [/*#__PURE__*/_jsxDEV(\"header\", {\n      className: \"App-header\",\n      children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n        children: \"\\uD83D\\uDCF9 Video Analyzer & Drawing Tool\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 296,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        children: \"Upload a video, analyze it, and draw notes\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 297,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 295,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"main\", {\n      className: \"App-main\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"upload-section\",\n        children: [/*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"file\",\n          accept: \"video/*\",\n          onChange: handleFileSelect\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 302,\n          columnNumber: 11\n        }, this), selectedFile && /*#__PURE__*/_jsxDEV(\"p\", {\n          children: [\"Selected: \", selectedFile.name]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 303,\n          columnNumber: 28\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: analyzeVideo,\n          disabled: !selectedFile || isAnalyzing,\n          children: isAnalyzing ? 'Analyzing...' : 'Analyze Video'\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 305,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 301,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"video\", {\n        ref: videoRef,\n        style: {\n          display: 'none'\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 310,\n        columnNumber: 9\n      }, this), analysisResult && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"analysis-section\",\n        style: {\n          marginBottom: '20px'\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n          children: \"\\uD83D\\uDCCB Video Analysis Summary:\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 315,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            padding: '15px',\n            backgroundColor: '#f8f9fa',\n            border: '1px solid #dee2e6',\n            borderRadius: '5px',\n            whiteSpace: 'pre-wrap',\n            textAlign: 'left',\n            maxHeight: '300px',\n            overflowY: 'auto'\n          },\n          children: analysisResult\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 316,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 314,\n        columnNumber: 11\n      }, this), analysisResult && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"edith-section\",\n        style: {\n          marginBottom: '20px'\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n          children: \"\\uD83E\\uDD16 Ask EDITH a Question:\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 334,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            display: 'flex',\n            gap: '10px',\n            alignItems: 'center'\n          },\n          children: [/*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"text\",\n            value: question,\n            onChange: e => setQuestion(e.target.value),\n            placeholder: \"Ask EDITH about the video content...\",\n            style: {\n              flex: 1,\n              padding: '10px',\n              border: '1px solid #ccc',\n              borderRadius: '5px',\n              fontSize: '16px'\n            },\n            onKeyPress: e => e.key === 'Enter' && askEdith()\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 336,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: askEdith,\n            disabled: isAsking || !question.trim(),\n            style: {\n              padding: '10px 20px',\n              backgroundColor: isAsking ? '#6c757d' : '#28a745',\n              color: 'white',\n              border: 'none',\n              borderRadius: '5px',\n              cursor: 'pointer'\n            },\n            children: isAsking ? 'Asking...' : 'Ask EDITH'\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 350,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 335,\n          columnNumber: 13\n        }, this), edithResponse && /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            marginTop: '15px',\n            padding: '15px',\n            backgroundColor: '#e8f5e8',\n            border: '1px solid #28a745',\n            borderRadius: '5px',\n            whiteSpace: 'pre-wrap'\n          },\n          children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n            children: \"EDITH:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 375,\n            columnNumber: 17\n          }, this), \" \", edithResponse]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 367,\n          columnNumber: 15\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 333,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"canvas-section\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            marginBottom: '10px'\n          },\n          children: [/*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: enableDrawing,\n            disabled: isDrawing,\n            style: {\n              padding: '10px 20px',\n              marginRight: '10px',\n              backgroundColor: isDrawing ? '#28a745' : '#007bff',\n              color: 'white',\n              border: 'none',\n              borderRadius: '5px',\n              cursor: 'pointer'\n            },\n            children: isDrawing ? '�️ Drawing Enabled' : '🖊️ Enable Drawing'\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 384,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: clearCanvas,\n            style: {\n              padding: '10px 20px',\n              backgroundColor: '#dc3545',\n              color: 'white',\n              border: 'none',\n              borderRadius: '5px',\n              cursor: 'pointer'\n            },\n            children: \"\\uD83D\\uDDD1\\uFE0F Clear Canvas\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 399,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 383,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"canvas\", {\n          ref: canvasRef,\n          width: \"800\",\n          height: \"600\",\n          style: {\n            border: '2px solid #333',\n            backgroundColor: '#f8f9fa',\n            cursor: isDrawing ? 'crosshair' : 'default'\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 414,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 382,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 300,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 294,\n    columnNumber: 5\n  }, this);\n}\n_s(App, \"BbVpgN+tMKM8+EWWw9ORLgzzAXA=\");\n_c = App;\nexport default App;\nvar _c;\n$RefreshReg$(_c, \"App\");","map":{"version":3,"names":["React","useState","useRef","useEffect","GoogleGenerativeAI","Hands","Camera","jsxDEV","_jsxDEV","genAI","process","env","REACT_APP_GEMINI_API_KEY","App","_s","selectedFile","setSelectedFile","isAnalyzing","setIsAnalyzing","analysisResult","setAnalysisResult","isLiveMode","setIsLiveMode","isDrawing","setIsDrawing","drawingPoints","setDrawingPoints","videoRef","canvasRef","drawingCanvasRef","handsRef","cameraRef","animationFrameRef","current","locateFile","file","setOptions","maxNumHands","modelComplexity","minDetectionConfidence","minTrackingConfidence","onResults","results","canvas","drawingCanvas","ctx","getContext","drawCtx","clearRect","width","height","multiHandLandmarks","length","landmarks","forEach","landmark","index","x","y","beginPath","arc","Math","PI","fillStyle","fill","isPointing","detectPointingGesture","indexTip","strokeStyle","lineWidth","stroke","console","log","prev","newPoints","drawLine","indexPip","indexMcp","middleTip","middlePip","ringTip","ringPip","pinkyTip","pinkyPip","indexExtended","middleCurled","ringCurled","pinkyCurled","otherFingersCurled","points","currentPoint","prevPoint","lineCap","lineJoin","moveTo","lineTo","startLiveMode","stream","navigator","mediaDevices","getUserMedia","video","srcObject","Promise","resolve","onloadedmetadata","videoWidth","videoHeight","onFrame","send","image","start","error","stopLiveMode","stop","tracks","getTracks","track","clearDrawing","handleFileSelect","event","target","files","type","startsWith","fileToBase64","reject","reader","FileReader","readAsDataURL","onload","result","onerror","analyzeVideo","model","getGenerativeModel","base64Data","videoData","split","generateContent","inlineData","mimeType","data","response","text","className","children","fileName","_jsxFileName","lineNumber","columnNumber","accept","onChange","name","onClick","disabled","ref","style","display","marginBottom","padding","backgroundColor","border","borderRadius","whiteSpace","textAlign","maxHeight","overflowY","gap","alignItems","value","question","e","setQuestion","placeholder","flex","fontSize","onKeyPress","key","askEdith","isAsking","trim","color","cursor","edithResponse","marginTop","enableDrawing","marginRight","clearCanvas","_c","$RefreshReg$"],"sources":["/Users/kyleprice/south_florida_hackstreet/whiteboard-detector/src/App.js"],"sourcesContent":["import React, { useState, useRef, useEffect } from 'react';\nimport './App.css';\nimport { GoogleGenerativeAI } from '@google/generative-ai';\nimport { Hands } from '@mediapipe/hands';\nimport { Camera } from '@mediapipe/camera_utils';\n\n// Initialize Gemini AI\nconst genAI = new GoogleGenerativeAI(process.env.REACT_APP_GEMINI_API_KEY);\n\nfunction App() {\n  const [selectedFile, setSelectedFile] = useState(null);\n  const [isAnalyzing, setIsAnalyzing] = useState(false);\n  const [analysisResult, setAnalysisResult] = useState('');\n  const [isLiveMode, setIsLiveMode] = useState(false);\n  const [isDrawing, setIsDrawing] = useState(false);\n  const [drawingPoints, setDrawingPoints] = useState([]);\n  \n  const videoRef = useRef(null);\n  const canvasRef = useRef(null);\n  const drawingCanvasRef = useRef(null);\n  const handsRef = useRef(null);\n  const cameraRef = useRef(null);\n  const animationFrameRef = useRef(null);\n\n  // Initialize MediaPipe Hands\n  useEffect(() => {\n    if (handsRef.current) return;\n    \n    handsRef.current = new Hands({\n      locateFile: (file) => {\n        return `https://cdn.jsdelivr.net/npm/@mediapipe/hands/${file}`;\n      }\n    });\n\n    handsRef.current.setOptions({\n      maxNumHands: 1,\n      modelComplexity: 1,\n      minDetectionConfidence: 0.7,\n      minTrackingConfidence: 0.5\n    });\n\n    handsRef.current.onResults(onResults);\n  }, []);\n\n  // Process hand detection results\n  const onResults = (results) => {\n    const canvas = canvasRef.current;\n    const drawingCanvas = drawingCanvasRef.current;\n    \n    if (!canvas || !drawingCanvas) return;\n    \n    const ctx = canvas.getContext('2d');\n    const drawCtx = drawingCanvas.getContext('2d');\n    \n    // Clear and draw video frame\n    ctx.clearRect(0, 0, canvas.width, canvas.height);\n    \n    if (results.multiHandLandmarks && results.multiHandLandmarks.length > 0) {\n      const landmarks = results.multiHandLandmarks[0];\n      \n      // Draw hand landmarks (green dots)\n      landmarks.forEach((landmark, index) => {\n        const x = landmark.x * canvas.width;\n        const y = landmark.y * canvas.height;\n        \n        ctx.beginPath();\n        ctx.arc(x, y, 5, 0, 2 * Math.PI);\n        ctx.fillStyle = '#00ff00';\n        ctx.fill();\n      });\n      \n      // Check for pointing gesture and draw\n      const isPointing = detectPointingGesture(landmarks);\n      \n      if (isPointing) {\n        const indexTip = landmarks[8];\n        const x = indexTip.x * drawingCanvas.width;\n        const y = indexTip.y * drawingCanvas.height;\n        \n        // Highlight pointing finger\n        ctx.beginPath();\n        ctx.arc(indexTip.x * canvas.width, indexTip.y * canvas.height, 15, 0, 2 * Math.PI);\n        ctx.strokeStyle = '#0066ff';\n        ctx.lineWidth = 3;\n        ctx.stroke();\n        \n        if (!isDrawing) {\n          setIsDrawing(true);\n          setDrawingPoints([{x, y}]);\n          console.log('✏️ Started drawing at:', x, y);\n        } else {\n          // Continue drawing\n          setDrawingPoints(prev => {\n            const newPoints = [...prev, {x, y}];\n            drawLine(drawCtx, newPoints);\n            return newPoints;\n          });\n        }\n      } else {\n        if (isDrawing) {\n          setIsDrawing(false);\n          console.log('🛑 Stopped drawing');\n        }\n      }\n    } else {\n      if (isDrawing) {\n        setIsDrawing(false);\n        console.log('🛑 No hand detected - stopped drawing');\n      }\n    }\n  };\n\n  // Enhanced gesture detection\n  const detectPointingGesture = (landmarks) => {\n    // Index finger tip and joints\n    const indexTip = landmarks[8];\n    const indexPip = landmarks[6];\n    const indexMcp = landmarks[5];\n    \n    // Middle finger tip and pip\n    const middleTip = landmarks[12];\n    const middlePip = landmarks[10];\n    \n    // Ring finger tip and pip\n    const ringTip = landmarks[16];\n    const ringPip = landmarks[14];\n    \n    // Pinky tip and pip\n    const pinkyTip = landmarks[20];\n    const pinkyPip = landmarks[18];\n    \n    // Check if index finger is extended (tip higher than pip)\n    const indexExtended = indexTip.y < indexPip.y && indexPip.y < indexMcp.y;\n    \n    // Check if other fingers are curled (tips lower than pips)\n    const middleCurled = middleTip.y > middlePip.y;\n    const ringCurled = ringTip.y > ringPip.y;\n    const pinkyCurled = pinkyTip.y > pinkyPip.y;\n    \n    // At least one other finger should be curled\n    const otherFingersCurled = middleCurled || ringCurled || pinkyCurled;\n    \n    const isPointing = indexExtended && otherFingersCurled;\n    \n    if (isPointing) {\n      console.log('👆 Pointing detected!');\n    }\n    \n    return isPointing;\n  };\n\n  // Draw line on canvas\n  const drawLine = (ctx, points) => {\n    if (points.length < 2) return;\n    \n    const currentPoint = points[points.length - 1];\n    const prevPoint = points[points.length - 2];\n    \n    // Draw thick blue line with white outline\n    ctx.strokeStyle = '#ffffff';\n    ctx.lineWidth = 10;\n    ctx.lineCap = 'round';\n    ctx.lineJoin = 'round';\n    \n    ctx.beginPath();\n    ctx.moveTo(prevPoint.x, prevPoint.y);\n    ctx.lineTo(currentPoint.x, currentPoint.y);\n    ctx.stroke();\n    \n    // Blue inner line\n    ctx.strokeStyle = '#0066ff';\n    ctx.lineWidth = 8;\n    \n    ctx.beginPath();\n    ctx.moveTo(prevPoint.x, prevPoint.y);\n    ctx.lineTo(currentPoint.x, currentPoint.y);\n    ctx.stroke();\n  };\n\n  // Start live whiteboard mode\n  const startLiveMode = async () => {\n    try {\n      setIsLiveMode(true);\n      \n      const stream = await navigator.mediaDevices.getUserMedia({\n        video: { width: 640, height: 480 }\n      });\n      \n      const video = videoRef.current;\n      video.srcObject = stream;\n      \n      await new Promise((resolve) => {\n        video.onloadedmetadata = resolve;\n      });\n      \n      // Setup canvases\n      const canvas = canvasRef.current;\n      const drawingCanvas = drawingCanvasRef.current;\n      \n      canvas.width = video.videoWidth;\n      canvas.height = video.videoHeight;\n      drawingCanvas.width = video.videoWidth;\n      drawingCanvas.height = video.videoHeight;\n      \n      // Start camera processing\n      if (handsRef.current) {\n        cameraRef.current = new Camera(video, {\n          onFrame: async () => {\n            await handsRef.current.send({ image: video });\n          },\n          width: 640,\n          height: 480\n        });\n        cameraRef.current.start();\n      }\n      \n      console.log('🎥 Live whiteboard mode started');\n      \n    } catch (error) {\n      console.error('Error starting live mode:', error);\n      setIsLiveMode(false);\n    }\n  };\n\n  // Stop live mode\n  const stopLiveMode = () => {\n    setIsLiveMode(false);\n    setIsDrawing(false);\n    \n    if (cameraRef.current) {\n      cameraRef.current.stop();\n      cameraRef.current = null;\n    }\n    \n    if (videoRef.current && videoRef.current.srcObject) {\n      const tracks = videoRef.current.srcObject.getTracks();\n      tracks.forEach(track => track.stop());\n      videoRef.current.srcObject = null;\n    }\n    \n    console.log('🛑 Live whiteboard mode stopped');\n  };\n\n  // Clear drawing canvas\n  const clearDrawing = () => {\n    const drawingCanvas = drawingCanvasRef.current;\n    if (drawingCanvas) {\n      const ctx = drawingCanvas.getContext('2d');\n      ctx.clearRect(0, 0, drawingCanvas.width, drawingCanvas.height);\n      setDrawingPoints([]);\n      console.log('🗑️ Drawing cleared');\n    }\n  };\n\n  // File handling (legacy - for video analysis)\n  const handleFileSelect = (event) => {\n    const file = event.target.files[0];\n    if (file && file.type.startsWith('video/')) {\n      setSelectedFile(file);\n      setAnalysisResult('');\n    }\n  };\n\n  const fileToBase64 = (file) => {\n    return new Promise((resolve, reject) => {\n      const reader = new FileReader();\n      reader.readAsDataURL(file);\n      reader.onload = () => resolve(reader.result);\n      reader.onerror = error => reject(error);\n    });\n  };\n\n  const analyzeVideo = async () => {\n    if (!selectedFile) return;\n    setIsAnalyzing(true);\n    try {\n      const model = genAI.getGenerativeModel({ model: \"gemini-1.5-flash\" });\n      const base64Data = await fileToBase64(selectedFile);\n      const videoData = base64Data.split(',')[1];\n      const result = await model.generateContent([\n        \"Analyze this video and provide a comprehensive summary.\",\n        { inlineData: { mimeType: selectedFile.type, data: videoData } }\n      ]);\n      setAnalysisResult(result.response.text());\n    } catch (error) {\n      console.error('Error:', error);\n      setAnalysisResult('Error analyzing video.');\n    } finally {\n      setIsAnalyzing(false);\n    }\n  };\n\n  return (\n    <div className=\"App\">\n      <header className=\"App-header\">\n        <h1>📹 Video Analyzer & Drawing Tool</h1>\n        <p>Upload a video, analyze it, and draw notes</p>\n      </header>\n\n      <main className=\"App-main\">\n        <div className=\"upload-section\">\n          <input type=\"file\" accept=\"video/*\" onChange={handleFileSelect} />\n          {selectedFile && <p>Selected: {selectedFile.name}</p>}\n          \n          <button onClick={analyzeVideo} disabled={!selectedFile || isAnalyzing}>\n            {isAnalyzing ? 'Analyzing...' : 'Analyze Video'}\n          </button>\n        </div>\n\n        <video ref={videoRef} style={{ display: 'none' }} />\n\n        {/* Analysis Results */}\n        {analysisResult && (\n          <div className=\"analysis-section\" style={{ marginBottom: '20px' }}>\n            <h3>📋 Video Analysis Summary:</h3>\n            <div style={{ \n              padding: '15px',\n              backgroundColor: '#f8f9fa',\n              border: '1px solid #dee2e6',\n              borderRadius: '5px',\n              whiteSpace: 'pre-wrap',\n              textAlign: 'left',\n              maxHeight: '300px',\n              overflowY: 'auto'\n            }}>\n              {analysisResult}\n            </div>\n          </div>\n        )}\n\n        {/* Ask EDITH Section */}\n        {analysisResult && (\n          <div className=\"edith-section\" style={{ marginBottom: '20px' }}>\n            <h3>🤖 Ask EDITH a Question:</h3>\n            <div style={{ display: 'flex', gap: '10px', alignItems: 'center' }}>\n              <input\n                type=\"text\"\n                value={question}\n                onChange={(e) => setQuestion(e.target.value)}\n                placeholder=\"Ask EDITH about the video content...\"\n                style={{\n                  flex: 1,\n                  padding: '10px',\n                  border: '1px solid #ccc',\n                  borderRadius: '5px',\n                  fontSize: '16px'\n                }}\n                onKeyPress={(e) => e.key === 'Enter' && askEdith()}\n              />\n              <button\n                onClick={askEdith}\n                disabled={isAsking || !question.trim()}\n                style={{\n                  padding: '10px 20px',\n                  backgroundColor: isAsking ? '#6c757d' : '#28a745',\n                  color: 'white',\n                  border: 'none',\n                  borderRadius: '5px',\n                  cursor: 'pointer'\n                }}\n              >\n                {isAsking ? 'Asking...' : 'Ask EDITH'}\n              </button>\n            </div>\n            \n            {edithResponse && (\n              <div style={{\n                marginTop: '15px',\n                padding: '15px',\n                backgroundColor: '#e8f5e8',\n                border: '1px solid #28a745',\n                borderRadius: '5px',\n                whiteSpace: 'pre-wrap'\n              }}>\n                <strong>EDITH:</strong> {edithResponse}\n              </div>\n            )}\n          </div>\n        )}\n\n        {/* Drawing Canvas */}\n        <div className=\"canvas-section\">\n          <div style={{ marginBottom: '10px' }}>\n            <button \n              onClick={enableDrawing} \n              disabled={isDrawing}\n              style={{ \n                padding: '10px 20px', \n                marginRight: '10px',\n                backgroundColor: isDrawing ? '#28a745' : '#007bff',\n                color: 'white',\n                border: 'none',\n                borderRadius: '5px',\n                cursor: 'pointer'\n              }}\n            >\n              {isDrawing ? '�️ Drawing Enabled' : '🖊️ Enable Drawing'}\n            </button>\n            <button \n              onClick={clearCanvas}\n              style={{ \n                padding: '10px 20px',\n                backgroundColor: '#dc3545',\n                color: 'white',\n                border: 'none',\n                borderRadius: '5px',\n                cursor: 'pointer'\n              }}\n            >\n              🗑️ Clear Canvas\n            </button>\n          </div>\n          \n          <canvas \n            ref={canvasRef}\n            width=\"800\" \n            height=\"600\"\n            style={{ \n              border: '2px solid #333',\n              backgroundColor: '#f8f9fa',\n              cursor: isDrawing ? 'crosshair' : 'default'\n            }}\n          />\n        </div>\n      </main>\n    </div>\n  );\n}\n\nexport default App;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}